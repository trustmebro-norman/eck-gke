apiVersion: autoscaling.k8s.elastic.co/v1alpha1
kind: ElasticsearchAutoscaler
metadata:
  name: prod-es-cluster-autoscaling
spec:
  elasticsearchRef:
    name: prod-es-cluster
  policies:
    - name: data-ingest
      roles: ["data", "ingest" , "transform"]
      resources:
        nodeCount:
          min: 1
          max: 3
        cpu:
          min: 1
          max: 2
        memory:
          min: 1Gi
          max: 2Gi
        storage:
          min: 50Gi
          max: 100Gi